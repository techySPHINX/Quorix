# =============================================================================
# QUORIX - Production Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit the .env file to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PROJECT_NAME=Quorix
SERVER_NAME=localhost
SERVER_HOST=http://localhost:8000
API_V1_STR=/api/v1

# Security (Enhanced JWT with role-based access control)
SECRET_KEY=your-super-secret-key-change-this-in-production-must-be-32-chars
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours
REFRESH_TOKEN_EXPIRE_MINUTES=43200  # 30 days

# CORS Origins (JSON formatted list)
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8080","https://yourdomain.com"]

# =============================================================================
# DATABASE CONFIGURATION (Production-Grade PostgreSQL)
# =============================================================================
# PostgreSQL Database URL (Neon DB, Supabase, or self-hosted)
# Format: postgresql+asyncpg://username:password@host:port/database_name
SQLALCHEMY_DATABASE_URI=postgresql+asyncpg://user:password@host:port/database_name

# Production Database Pool Settings (Enhanced for high concurrency)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_ECHO=false

# =============================================================================
# REDIS CONFIGURATION (Caching & Distributed Locking)
# =============================================================================
# Redis URL for caching, sessions, and distributed locking (Upstash Redis recommended)
REDIS_URL=rediss://default:<password>@<host>:<port>

# =============================================================================
# CELERY CONFIGURATION (Background Task Processing)
# =============================================================================
# Celery Broker URL (Redis recommended for production)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Advanced Celery Settings
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Task Routing Configuration
CELERY_TASK_ROUTES={"app.tasks.send_*": {"queue": "email"}, "app.tasks.notify_*": {"queue": "notifications"}}

# =============================================================================
# SENDGRID EMAIL CONFIGURATION (Production Service)
# =============================================================================
# SendGrid API Configuration (recommended for production)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Quorix Team

# Email Configuration
EMAILS_ENABLED=true
EMAIL_TEMPLATES_ENABLED=true
EMAIL_RESET_TOKEN_EXPIRE_HOURS=48

# =============================================================================
# USER MANAGEMENT (Role-Based Access Control)
# =============================================================================
# First superuser (admin) account with SUPER_ADMIN role
FIRST_SUPERUSER=admin@yourdomain.com
FIRST_SUPERUSER_PASSWORD=your-secure-admin-password

# User registration settings
USERS_OPEN_REGISTRATION=false

# Test user for development
EMAIL_TEST_USER=test@example.com

# =============================================================================
# NOTIFICATION SYSTEM CONFIGURATION
# =============================================================================
# In-app notification settings
NOTIFICATIONS_ENABLED=true
NOTIFICATION_RETENTION_DAYS=90
NOTIFICATION_BATCH_SIZE=100

# Email notification settings
EMAIL_NOTIFICATION_RETRIES=3
EMAIL_BATCH_SIZE=10
EMAIL_BATCH_DELAY=1.0

# Push notification settings (for future implementation)
PUSH_NOTIFICATIONS_ENABLED=false

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry DSN for error monitoring (optional but recommended)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Application logging level
LOG_LEVEL=INFO

# Environment indicator
ENVIRONMENT=production

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================
# Development settings (uncomment and modify as needed)
# EMAILS_ENABLED=false  # Disable emails in development
# LOG_LEVEL=DEBUG       # More verbose logging
# DB_ECHO=true          # Log SQL queries
# ENVIRONMENT=development

# =============================================================================
# EXAMPLE VALUES FOR QUICK START
# =============================================================================
# For development/testing, you can use these example values:
#
# PROJECT_NAME=Evently Dev
# SECRET_KEY=dev-secret-key-must-be-at-least-32-chars-long-for-security
# SQLALCHEMY_DATABASE_URI=postgresql+asyncpg://postgres:password@localhost:5432/evently
# REDIS_URL=redis://localhost:6379/0
# CELERY_BROKER_URL=redis://localhost:6379/1
# CELERY_RESULT_BACKEND=redis://localhost:6379/2
# SENDGRID_API_KEY=SG.test-api-key
# SENDGRID_FROM_EMAIL=test@example.com
# FIRST_SUPERUSER=admin@example.com
# FIRST_SUPERUSER_PASSWORD=admin123
# EMAILS_ENABLED=false  # Set to true when email is configured
# NOTIFICATIONS_ENABLED=true
