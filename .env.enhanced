# Evently - Advanced Event Management Platform
# Enhanced Environment Configuration File

# ================================
# Environment Settings
# ================================
ENVIRONMENT=development
DEBUG=false
TESTING=false
VERSION=1.0.0

# ================================
# API Configuration
# ================================
API_V1_PREFIX=/api/v1
PROJECT_NAME=Evently
PROJECT_DESCRIPTION=Advanced Event Management Platform
SERVER_NAME=evently-api
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_WORKERS=1

# ================================
# CORS Configuration
# ================================
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://evently.com
ALLOWED_HOSTS=*

# ================================
# Database Configuration
# ================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_NAME=evently

# Database Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
DB_ECHO=false

# Database Timeouts
DB_COMMAND_TIMEOUT=60
DB_STATEMENT_TIMEOUT=60s
DB_LOCK_TIMEOUT=30s
DB_IDLE_IN_TRANSACTION_TIMEOUT=10min

# ================================
# Redis Configuration
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_USERNAME=

# Redis Connection Pool Settings
REDIS_MAX_CONNECTIONS=100
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
REDIS_HEALTH_CHECK_INTERVAL=30

# ================================
# Security Configuration
# ================================
SECRET_KEY=your-super-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256

# Token Expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30
EMAIL_RESET_TOKEN_EXPIRE_HOURS=48

# Password Security
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=false

# Session Security
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ================================
# Rate Limiting Configuration
# ================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600
RATE_LIMIT_STORAGE=redis

# ================================
# Caching Configuration
# ================================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_KEY_PREFIX=evently:
CACHE_COMPRESSION=true
CACHE_SERIALIZER=json

# ================================
# Background Tasks (Celery)
# ================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ================================
# API Performance
# ================================
MAX_REQUEST_SIZE=10485760
REQUEST_TIMEOUT=30
RESPONSE_COMPRESSION=true
RESPONSE_COMPRESSION_MINIMUM_SIZE=1000
MAX_CONCURRENT_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65

# ================================
# Monitoring Configuration
# ================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=
LOG_ROTATION=midnight
LOG_RETENTION=30

# Metrics
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=8090
PROMETHEUS_PATH=/metrics

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_PATH=/health

# Tracing
ENABLE_TRACING=false
JAEGER_AGENT_HOST=
JAEGER_AGENT_PORT=6831
TRACE_SAMPLE_RATE=0.1

# Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ================================
# Email Configuration
# ================================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@evently.com
SENDGRID_FROM_NAME=Evently Platform

# Email Settings
EMAILS_ENABLED=false
EMAIL_TEMPLATES_DIR=app/templates/email
EMAIL_TEMPLATES_ENABLED=true
EMAIL_TEST_USER=test@example.com

# Email Notifications
EMAIL_NOTIFICATION_RETRIES=3
EMAIL_BATCH_SIZE=10
EMAIL_BATCH_DELAY=1.0

# ================================
# User Management
# ================================
FIRST_SUPERUSER=admin@evently.com
FIRST_SUPERUSER_PASSWORD=change-me-in-production
USERS_OPEN_REGISTRATION=false

# ================================
# Feature Flags
# ================================
NOTIFICATIONS_ENABLED=true
NOTIFICATION_RETENTION_DAYS=90
NOTIFICATION_BATCH_SIZE=100
PUSH_NOTIFICATIONS_ENABLED=false

# ================================
# Security Features
# ================================
# IP Whitelist (comma-separated)
RATE_LIMIT_WHITELIST=127.0.0.1,::1

# Blocked IPs (comma-separated)
SECURITY_BLOCKED_IPS=

# Blocked Subnets (comma-separated)
SECURITY_BLOCKED_SUBNETS=
